                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.4.1 #14650 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module main
                                      6 	.optsdcc -msm83
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _main
                                     12 	.globl _printTest
                                     13 	.globl _setBkg
                                     14 	.globl _set_bkg_tile_xy
                                     15 	.globl _set_bkg_data
                                     16 	.globl _delay
                                     17 	.globl _test_tileset
                                     18 ;--------------------------------------------------------
                                     19 ; special function registers
                                     20 ;--------------------------------------------------------
                                     21 ;--------------------------------------------------------
                                     22 ; ram data
                                     23 ;--------------------------------------------------------
                                     24 	.area _DATA
                                     25 ;--------------------------------------------------------
                                     26 ; ram data
                                     27 ;--------------------------------------------------------
                                     28 	.area _INITIALIZED
                                     29 ;--------------------------------------------------------
                                     30 ; absolute external ram data
                                     31 ;--------------------------------------------------------
                                     32 	.area _DABS (ABS)
                                     33 ;--------------------------------------------------------
                                     34 ; global & static initialisations
                                     35 ;--------------------------------------------------------
                                     36 	.area _HOME
                                     37 	.area _GSINIT
                                     38 	.area _GSFINAL
                                     39 	.area _GSINIT
                                     40 ;--------------------------------------------------------
                                     41 ; Home
                                     42 ;--------------------------------------------------------
                                     43 	.area _HOME
                                     44 	.area _HOME
                                     45 ;--------------------------------------------------------
                                     46 ; code
                                     47 ;--------------------------------------------------------
                                     48 	.area _CODE
                                     49 ;src/main.c:6: void setBkg (void) { set_bkg_data (0, 0u, test_tileset); }
                                     50 ;	---------------------------------
                                     51 ; Function setBkg
                                     52 ; ---------------------------------
    00000000                         53 _setBkg::
    00000000 11r0Dr00         [12]   54 	ld	de, #_test_tileset
    00000003 D5               [16]   55 	push	de
    00000004 AF               [ 4]   56 	xor	a, a
    00000005 0F               [ 4]   57 	rrca
    00000006 F5               [16]   58 	push	af
    00000007 CDr00r00         [24]   59 	call	_set_bkg_data
    0000000A E8 04            [16]   60 	add	sp, #4
    0000000C C9               [16]   61 	ret
    0000000D                         62 _test_tileset:
    0000000D 00                      63 	.db #0x00	; 0
    0000000E 00                      64 	.db #0x00	; 0
    0000000F 00                      65 	.db #0x00	; 0
    00000010 00                      66 	.db #0x00	; 0
    00000011 00                      67 	.db #0x00	; 0
    00000012 00                      68 	.db #0x00	; 0
    00000013 00                      69 	.db #0x00	; 0
    00000014 01                      70 	.db #0x01	; 1
    00000015 00                      71 	.db #0x00	; 0
    00000016 01                      72 	.db #0x01	; 1
    00000017 00                      73 	.db #0x00	; 0
    00000018 07                      74 	.db #0x07	; 7
    00000019 00                      75 	.db #0x00	; 0
    0000001A 03                      76 	.db #0x03	; 3
    0000001B 00                      77 	.db #0x00	; 0
    0000001C 03                      78 	.db #0x03	; 3
    0000001D 00                      79 	.db #0x00	; 0
    0000001E 00                      80 	.db #0x00	; 0
    0000001F 00                      81 	.db #0x00	; 0
    00000020 00                      82 	.db #0x00	; 0
    00000021 00                      83 	.db #0x00	; 0
    00000022 00                      84 	.db #0x00	; 0
    00000023 00                      85 	.db #0x00	; 0
    00000024 00                      86 	.db #0x00	; 0
    00000025 00                      87 	.db #0x00	; 0
    00000026 70                      88 	.db #0x70	; 112	'p'
    00000027 70                      89 	.db #0x70	; 112	'p'
    00000028 FE                      90 	.db #0xfe	; 254
    00000029 7C                      91 	.db #0x7c	; 124
    0000002A FF                      92 	.db #0xff	; 255
    0000002B 3F                      93 	.db #0x3f	; 63
    0000002C FF                      94 	.db #0xff	; 255
    0000002D 00                      95 	.db #0x00	; 0
    0000002E 00                      96 	.db #0x00	; 0
    0000002F 00                      97 	.db #0x00	; 0
    00000030 00                      98 	.db #0x00	; 0
    00000031 00                      99 	.db #0x00	; 0
    00000032 00                     100 	.db #0x00	; 0
    00000033 00                     101 	.db #0x00	; 0
    00000034 00                     102 	.db #0x00	; 0
    00000035 00                     103 	.db #0x00	; 0
    00000036 00                     104 	.db #0x00	; 0
    00000037 00                     105 	.db #0x00	; 0
    00000038 00                     106 	.db #0x00	; 0
    00000039 00                     107 	.db #0x00	; 0
    0000003A 00                     108 	.db #0x00	; 0
    0000003B 00                     109 	.db #0x00	; 0
    0000003C 80                     110 	.db #0x80	; 128
    0000003D 00                     111 	.db #0x00	; 0
    0000003E 07                     112 	.db #0x07	; 7
    0000003F 02                     113 	.db #0x02	; 2
    00000040 0F                     114 	.db #0x0f	; 15
    00000041 01                     115 	.db #0x01	; 1
    00000042 0F                     116 	.db #0x0f	; 15
    00000043 01                     117 	.db #0x01	; 1
    00000044 17                     118 	.db #0x17	; 23
    00000045 00                     119 	.db #0x00	; 0
    00000046 07                     120 	.db #0x07	; 7
    00000047 00                     121 	.db #0x00	; 0
    00000048 07                     122 	.db #0x07	; 7
    00000049 00                     123 	.db #0x00	; 0
    0000004A 1F                     124 	.db #0x1f	; 31
    0000004B 00                     125 	.db #0x00	; 0
    0000004C 1B                     126 	.db #0x1b	; 27
    0000004D 00                     127 	.db #0x00	; 0
    0000004E 03                     128 	.db #0x03	; 3
    0000004F 01                     129 	.db #0x01	; 1
    00000050 03                     130 	.db #0x03	; 3
    00000051 01                     131 	.db #0x01	; 1
    00000052 81                     132 	.db #0x81	; 129
    00000053 02                     133 	.db #0x02	; 2
    00000054 82                     134 	.db #0x82	; 130
    00000055 00                     135 	.db #0x00	; 0
    00000056 80                     136 	.db #0x80	; 128
    00000057 00                     137 	.db #0x00	; 0
    00000058 80                     138 	.db #0x80	; 128
    00000059 00                     139 	.db #0x00	; 0
    0000005A 00                     140 	.db #0x00	; 0
    0000005B 00                     141 	.db #0x00	; 0
    0000005C 00                     142 	.db #0x00	; 0
    0000005D 6F                     143 	.db #0x6f	; 111	'o'
    0000005E FF                     144 	.db #0xff	; 255
    0000005F 6F                     145 	.db #0x6f	; 111	'o'
    00000060 FF                     146 	.db #0xff	; 255
    00000061 4F                     147 	.db #0x4f	; 79	'O'
    00000062 FF                     148 	.db #0xff	; 255
    00000063 07                     149 	.db #0x07	; 7
    00000064 3F                     150 	.db #0x3f	; 63
    00000065 07                     151 	.db #0x07	; 7
    00000066 3F                     152 	.db #0x3f	; 63
    00000067 0F                     153 	.db #0x0f	; 15
    00000068 3F                     154 	.db #0x3f	; 63
    00000069 1F                     155 	.db #0x1f	; 31
    0000006A 3F                     156 	.db #0x3f	; 63
    0000006B 1F                     157 	.db #0x1f	; 31
    0000006C 3F                     158 	.db #0x3f	; 63
    0000006D 80                     159 	.db #0x80	; 128
    0000006E 80                     160 	.db #0x80	; 128
    0000006F C0                     161 	.db #0xc0	; 192
    00000070 C0                     162 	.db #0xc0	; 192
    00000071 E0                     163 	.db #0xe0	; 224
    00000072 E0                     164 	.db #0xe0	; 224
    00000073 D0                     165 	.db #0xd0	; 208
    00000074 FE                     166 	.db #0xfe	; 254
    00000075 EE                     167 	.db #0xee	; 238
    00000076 FF                     168 	.db #0xff	; 255
    00000077 FF                     169 	.db #0xff	; 255
    00000078 FF                     170 	.db #0xff	; 255
    00000079 FF                     171 	.db #0xff	; 255
    0000007A FF                     172 	.db #0xff	; 255
    0000007B FF                     173 	.db #0xff	; 255
    0000007C FF                     174 	.db #0xff	; 255
    0000007D 00                     175 	.db #0x00	; 0
    0000007E 13                     176 	.db #0x13	; 19
    0000007F 00                     177 	.db #0x00	; 0
    00000080 03                     178 	.db #0x03	; 3
    00000081 00                     179 	.db #0x00	; 0
    00000082 06                     180 	.db #0x06	; 6
    00000083 00                     181 	.db #0x00	; 0
    00000084 04                     182 	.db #0x04	; 4
    00000085 00                     183 	.db #0x00	; 0
    00000086 00                     184 	.db #0x00	; 0
    00000087 80                     185 	.db #0x80	; 128
    00000088 C0                     186 	.db #0xc0	; 192
    00000089 80                     187 	.db #0x80	; 128
    0000008A F0                     188 	.db #0xf0	; 240
    0000008B 80                     189 	.db #0x80	; 128
    0000008C D8                     190 	.db #0xd8	; 216
    0000008D 00                     191 	.db #0x00	; 0
    0000008E 00                     192 	.db #0x00	; 0
    0000008F 00                     193 	.db #0x00	; 0
    00000090 00                     194 	.db #0x00	; 0
    00000091 00                     195 	.db #0x00	; 0
    00000092 00                     196 	.db #0x00	; 0
    00000093 00                     197 	.db #0x00	; 0
    00000094 80                     198 	.db #0x80	; 128
    00000095 00                     199 	.db #0x00	; 0
    00000096 80                     200 	.db #0x80	; 128
    00000097 80                     201 	.db #0x80	; 128
    00000098 80                     202 	.db #0x80	; 128
    00000099 80                     203 	.db #0x80	; 128
    0000009A C0                     204 	.db #0xc0	; 192
    0000009B C0                     205 	.db #0xc0	; 192
    0000009C C0                     206 	.db #0xc0	; 192
    0000009D 1F                     207 	.db #0x1f	; 31
    0000009E 1F                     208 	.db #0x1f	; 31
    0000009F 1B                     209 	.db #0x1b	; 27
    000000A0 3F                     210 	.db #0x3f	; 63
    000000A1 3F                     211 	.db #0x3f	; 63
    000000A2 3F                     212 	.db #0x3f	; 63
    000000A3 3F                     213 	.db #0x3f	; 63
    000000A4 3F                     214 	.db #0x3f	; 63
    000000A5 3F                     215 	.db #0x3f	; 63
    000000A6 3F                     216 	.db #0x3f	; 63
    000000A7 1D                     217 	.db #0x1d	; 29
    000000A8 3F                     218 	.db #0x3f	; 63
    000000A9 1D                     219 	.db #0x1d	; 29
    000000AA 1F                     220 	.db #0x1f	; 31
    000000AB 11                     221 	.db #0x11	; 17
    000000AC 53                     222 	.db #0x53	; 83	'S'
    000000AD FF                     223 	.db #0xff	; 255
    000000AE FF                     224 	.db #0xff	; 255
    000000AF FF                     225 	.db #0xff	; 255
    000000B0 FF                     226 	.db #0xff	; 255
    000000B1 FF                     227 	.db #0xff	; 255
    000000B2 FF                     228 	.db #0xff	; 255
    000000B3 FF                     229 	.db #0xff	; 255
    000000B4 FF                     230 	.db #0xff	; 255
    000000B5 FF                     231 	.db #0xff	; 255
    000000B6 FF                     232 	.db #0xff	; 255
    000000B7 FF                     233 	.db #0xff	; 255
    000000B8 FF                     234 	.db #0xff	; 255
    000000B9 FF                     235 	.db #0xff	; 255
    000000BA FF                     236 	.db #0xff	; 255
    000000BB BF                     237 	.db #0xbf	; 191
    000000BC FF                     238 	.db #0xff	; 255
    000000BD C8                     239 	.db #0xc8	; 200
    000000BE FE                     240 	.db #0xfe	; 254
    000000BF FC                     241 	.db #0xfc	; 252
    000000C0 FE                     242 	.db #0xfe	; 254
    000000C1 DC                     243 	.db #0xdc	; 220
    000000C2 FE                     244 	.db #0xfe	; 254
    000000C3 FC                     245 	.db #0xfc	; 252
    000000C4 FF                     246 	.db #0xff	; 255
    000000C5 F8                     247 	.db #0xf8	; 248
    000000C6 FC                     248 	.db #0xfc	; 252
    000000C7 E0                     249 	.db #0xe0	; 224
    000000C8 F4                     250 	.db #0xf4	; 244
    000000C9 E1                     251 	.db #0xe1	; 225
    000000CA F7                     252 	.db #0xf7	; 247
    000000CB EF                     253 	.db #0xef	; 239
    000000CC FF                     254 	.db #0xff	; 255
    000000CD C0                     255 	.db #0xc0	; 192
    000000CE E0                     256 	.db #0xe0	; 224
    000000CF E0                     257 	.db #0xe0	; 224
    000000D0 F0                     258 	.db #0xf0	; 240
    000000D1 F0                     259 	.db #0xf0	; 240
    000000D2 F9                     260 	.db #0xf9	; 249
    000000D3 F9                     261 	.db #0xf9	; 249
    000000D4 FF                     262 	.db #0xff	; 255
    000000D5 FD                     263 	.db #0xfd	; 253
    000000D6 FF                     264 	.db #0xff	; 255
    000000D7 FC                     265 	.db #0xfc	; 252
    000000D8 FF                     266 	.db #0xff	; 255
    000000D9 FC                     267 	.db #0xfc	; 252
    000000DA FF                     268 	.db #0xff	; 255
    000000DB FF                     269 	.db #0xff	; 255
    000000DC FF                     270 	.db #0xff	; 255
    000000DD 02                     271 	.db #0x02	; 2
    000000DE 7A                     272 	.db #0x7a	; 122	'z'
    000000DF 2E                     273 	.db #0x2e	; 46
    000000E0 7E                     274 	.db #0x7e	; 126
    000000E1 4F                     275 	.db #0x4f	; 79	'O'
    000000E2 FF                     276 	.db #0xff	; 255
    000000E3 EB                     277 	.db #0xeb	; 235
    000000E4 FF                     278 	.db #0xff	; 255
    000000E5 EF                     279 	.db #0xef	; 239
    000000E6 FF                     280 	.db #0xff	; 255
    000000E7 C0                     281 	.db #0xc0	; 192
    000000E8 FF                     282 	.db #0xff	; 255
    000000E9 00                     283 	.db #0x00	; 0
    000000EA DE                     284 	.db #0xde	; 222
    000000EB 00                     285 	.db #0x00	; 0
    000000EC FC                     286 	.db #0xfc	; 252
    000000ED 0C                     287 	.db #0x0c	; 12
    000000EE 0C                     288 	.db #0x0c	; 12
    000000EF 04                     289 	.db #0x04	; 4
    000000F0 0C                     290 	.db #0x0c	; 12
    000000F1 00                     291 	.db #0x00	; 0
    000000F2 C4                     292 	.db #0xc4	; 196
    000000F3 00                     293 	.db #0x00	; 0
    000000F4 FC                     294 	.db #0xfc	; 252
    000000F5 00                     295 	.db #0x00	; 0
    000000F6 F7                     296 	.db #0xf7	; 247
    000000F7 00                     297 	.db #0x00	; 0
    000000F8 C7                     298 	.db #0xc7	; 199
    000000F9 03                     299 	.db #0x03	; 3
    000000FA 2F                     300 	.db #0x2f	; 47
    000000FB 2F                     301 	.db #0x2f	; 47
    000000FC 7F                     302 	.db #0x7f	; 127
    000000FD 9F                     303 	.db #0x9f	; 159
    000000FE 9F                     304 	.db #0x9f	; 159
    000000FF 99                     305 	.db #0x99	; 153
    00000100 9F                     306 	.db #0x9f	; 159
    00000101 9F                     307 	.db #0x9f	; 159
    00000102 FF                     308 	.db #0xff	; 255
    00000103 1F                     309 	.db #0x1f	; 31
    00000104 FF                     310 	.db #0xff	; 255
    00000105 3F                     311 	.db #0x3f	; 63
    00000106 FF                     312 	.db #0xff	; 255
    00000107 1F                     313 	.db #0x1f	; 31
    00000108 FF                     314 	.db #0xff	; 255
    00000109 FF                     315 	.db #0xff	; 255
    0000010A FF                     316 	.db #0xff	; 255
    0000010B FF                     317 	.db #0xff	; 255
    0000010C FF                     318 	.db #0xff	; 255
                                    319 ;src/main.c:8: void printTest (uint8_t len_x, uint8_t len_y)
                                    320 ;	---------------------------------
                                    321 ; Function printTest
                                    322 ; ---------------------------------
    0000010D                        323 _printTest::
    0000010D E8 FB            [16]  324 	add	sp, #-5
    0000010F F8 01            [12]  325 	ldhl	sp,	#1
    00000111 32               [ 8]  326 	ld	(hl-), a
    00000112 73               [ 8]  327 	ld	(hl), e
                                    328 ;src/main.c:10: uint8_t k=0;
    00000113 F8 04            [12]  329 	ldhl	sp,	#4
                                    330 ;src/main.c:11: for (uint8_t j=0; j<len_y; j++)
    00000115 AF               [ 4]  331 	xor	a, a
    00000116 32               [ 8]  332 	ld	(hl-), a
    00000117 2B               [ 8]  333 	dec	hl
    00000118 36 00            [12]  334 	ld	(hl), #0x00
    0000011A                        335 00107$:
    0000011A F8 02            [12]  336 	ldhl	sp,	#2
    0000011C 3A               [ 8]  337 	ld	a, (hl-)
    0000011D 2B               [ 8]  338 	dec	hl
    0000011E 96               [ 8]  339 	sub	a, (hl)
    0000011F 30 29            [12]  340 	jr	NC, 00109$
                                    341 ;src/main.c:13: for (uint8_t i=0; i<len_x; i++)
    00000121 F8 04            [12]  342 	ldhl	sp,	#4
    00000123 3A               [ 8]  343 	ld	a, (hl-)
    00000124 22               [ 8]  344 	ld	(hl+), a
    00000125 36 00            [12]  345 	ld	(hl), #0x00
    00000127                        346 00104$:
    00000127 F8 04            [12]  347 	ldhl	sp,	#4
    00000129 7E               [ 8]  348 	ld	a, (hl)
    0000012A F8 01            [12]  349 	ldhl	sp,	#1
    0000012C 96               [ 8]  350 	sub	a, (hl)
    0000012D 30 13            [12]  351 	jr	NC, 00115$
                                    352 ;src/main.c:15: set_bkg_tile_xy (i, j, k);k++;
    0000012F 23               [ 8]  353 	inc	hl
    00000130 23               [ 8]  354 	inc	hl
    00000131 3A               [ 8]  355 	ld	a, (hl-)
    00000132 F5               [16]  356 	push	af
    00000133 33               [ 8]  357 	inc	sp
    00000134 2A               [ 8]  358 	ld	a, (hl+)
    00000135 23               [ 8]  359 	inc	hl
    00000136 5F               [ 4]  360 	ld	e, a
    00000137 7E               [ 8]  361 	ld	a, (hl)
    00000138 CDr00r00         [24]  362 	call	_set_bkg_tile_xy
    0000013B F8 03            [12]  363 	ldhl	sp,	#3
    0000013D 34               [12]  364 	inc	(hl)
                                    365 ;src/main.c:13: for (uint8_t i=0; i<len_x; i++)
    0000013E 23               [ 8]  366 	inc	hl
    0000013F 34               [12]  367 	inc	(hl)
    00000140 18 E5            [12]  368 	jr	00104$
    00000142                        369 00115$:
    00000142 F8 03            [12]  370 	ldhl	sp,	#3
    00000144 2A               [ 8]  371 	ld	a, (hl+)
                                    372 ;src/main.c:11: for (uint8_t j=0; j<len_y; j++)
    00000145 32               [ 8]  373 	ld	(hl-), a
    00000146 2B               [ 8]  374 	dec	hl
    00000147 34               [12]  375 	inc	(hl)
    00000148 18 D0            [12]  376 	jr	00107$
    0000014A                        377 00109$:
                                    378 ;src/main.c:18: }
    0000014A E8 05            [16]  379 	add	sp, #5
    0000014C C9               [16]  380 	ret
                                    381 ;src/main.c:21: void main(void)
                                    382 ;	---------------------------------
                                    383 ; Function main
                                    384 ; ---------------------------------
    0000014D                        385 _main::
                                    386 ;src/main.c:23: setBkg();
    0000014D CDr00r00         [24]  387 	call	_setBkg
                                    388 ;src/main.c:25: while(TRUE) //loop
    00000150                        389 00102$:
                                    390 ;src/main.c:27: printTest(4,4);
    00000150 3E 04            [ 8]  391 	ld	a,#0x04
    00000152 5F               [ 4]  392 	ld	e,a
    00000153 CDr0Dr01         [24]  393 	call	_printTest
                                    394 ;src/main.c:28: SHOW_BKG;
    00000156 F0r00            [12]  395 	ldh	a, (_LCDC_REG + 0)
    00000158 F6 01            [ 8]  396 	or	a, #0x01
    0000015A E0r00            [12]  397 	ldh	(_LCDC_REG + 0), a
                                    398 ;src/main.c:29: DISPLAY_ON;
    0000015C F0r00            [12]  399 	ldh	a, (_LCDC_REG + 0)
    0000015E F6 80            [ 8]  400 	or	a, #0x80
    00000160 E0r00            [12]  401 	ldh	(_LCDC_REG + 0), a
                                    402 ;src/main.c:30: delay(500);
    00000162 11 F4 01         [12]  403 	ld	de, #0x01f4
    00000165 CDr00r00         [24]  404 	call	_delay
                                    405 ;src/main.c:32: }
    00000168 18 E6            [12]  406 	jr	00102$
                                    407 	.area _CODE
                                    408 	.area _INITIALIZER
                                    409 	.area _CABS (ABS)
